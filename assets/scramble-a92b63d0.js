import{b as m,a as f,r as g,s as R}from"./animationSetup-c3e380b2.js";import"./index-8e83a58b.js";const y=(s,o)=>{const e=o/3;return s.map(()=>m(e,o-100))},D=()=>{const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),o=s.length,e=m(0,o);return s[e]},S=async(s,o)=>{const{options:e,elements:a}=f(s,o),c=e.scrambleDuration;await new Promise(p=>{a.forEach(async({currentNode:r,text:i})=>{let n=i.split("");const u=y(n,c),l=Date.now();for(g(r,e.parentElement,t=>{t.classList.add("finished-typing")});Date.now()-l<c;){const t=m(0,n.length),h=u[t],T=n[t]===" ",d=()=>Date.now()-l;if((()=>d()>=h)()||T)if(!(n[t]===i[t]))n[t]=i[t];else continue;else n[t]=D();const L=n.join("");r.innerHTML=L;const w=L===i,b=e.scrambleSlowdown?Math.round(d()/100):1;if(await R(b),w){p();break}}r.innerHTML=i})}),e.dispatch("done")};export{S as default};
